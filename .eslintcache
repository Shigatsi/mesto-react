[{"E:\\praktikum\\dev\\mesto-react\\src\\components\\Main.js":"1","E:\\praktikum\\dev\\mesto-react\\src\\utils\\Api.js":"2","E:\\praktikum\\dev\\mesto-react\\src\\components\\Card.js":"3","E:\\praktikum\\dev\\mesto-react\\src\\index.js":"4","E:\\praktikum\\dev\\mesto-react\\src\\components\\Footer.js":"5","E:\\praktikum\\dev\\mesto-react\\src\\components\\App.js":"6","E:\\praktikum\\dev\\mesto-react\\src\\components\\ImagePopup.js":"7","E:\\praktikum\\dev\\mesto-react\\src\\components\\PopupWithForm.js":"8","E:\\praktikum\\dev\\mesto-react\\src\\components\\Header.js":"9","E:\\praktikum\\dev\\mesto-react\\src\\contexts\\CurrentUserContext.js":"10"},{"size":2756,"mtime":1608057548211,"results":"11","hashOfConfig":"12"},{"size":3522,"mtime":1608057624645,"results":"13","hashOfConfig":"12"},{"size":2257,"mtime":1608057568667,"results":"14","hashOfConfig":"12"},{"size":528,"mtime":1606936438021,"results":"15","hashOfConfig":"12"},{"size":208,"mtime":1606936437742,"results":"16","hashOfConfig":"12"},{"size":4189,"mtime":1608048393258,"results":"17","hashOfConfig":"12"},{"size":638,"mtime":1606983411829,"results":"18","hashOfConfig":"12"},{"size":702,"mtime":1606983411833,"results":"19","hashOfConfig":"12"},{"size":255,"mtime":1606936437744,"results":"20","hashOfConfig":"12"},{"size":88,"mtime":1608036839621,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},"eseruq",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\praktikum\\dev\\mesto-react\\src\\components\\Main.js",["46"],"\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/Api';\r\nimport Card from './Card.js';\r\n\r\n\r\nfunction Main ({onEditProfile, onAddPlace, onEditAvatar, onCardClick}) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n\r\n  React.useEffect(()=>{\r\n    api.getInitialCards()\r\n    .then((Cards)=>{\r\n      const cards = Cards.map(item =>{\r\n        return{\r\n          cardId:item._id,\r\n          userId:item.owner._id,\r\n          src:item.link,\r\n          title:item.name,\r\n          likes:item.likes,\r\n          alt: item.name}\r\n      })\r\n      setCards(cards);\r\n\r\n    })\r\n    .catch(err => console.error(err));\r\n  }, [[], cards])\r\n\r\n  function handleCardLike(card) {\r\n      // Снова проверяем, есть ли уже лайк на этой карточке\r\n      const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n      // Отправляем запрос в API и получаем обновлённые данные карточки\r\n      api.changeLikeCardStatus(card.cardId, !isLiked).then((newCard) => {\r\n          // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n        const newCards = cards.map((c) => c._id === card.cardId ? newCard : c);\r\n        // Обновляем стейт\r\n        setCards(newCards)\r\n      });\r\n  }\r\n\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__data\">\r\n          <div className=\"profile__avatar-conteiner\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"фото Профиля\"/>\r\n            <div className=\"profile__avatar-overlay\">\r\n              <button className=\"profile__avatar-edit-button\" type=\"button\" onClick={onEditAvatar}></button>\r\n            </div>\r\n          </div>\r\n            <div className=\"profile__info\">\r\n              <p className=\"profile__name\">{currentUser.name}</p>\r\n              <p className=\"profile__lifestyle\">{currentUser.about}</p>\r\n              <button className=\"profile__edit-button\"  type=\"button\" onClick = {onEditProfile}></button>\r\n          </div>\r\n        </div>\r\n          <button className=\"profile__add-button\" type=\"button\" onClick = {onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map((card) =>\r\n           <Card\r\n              key={card.cardId}\r\n              card={card}\r\n              onCardClick ={onCardClick}\r\n              onCardLike = {handleCardLike}\r\n            />\r\n        )}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\n\r\nexport default Main;\r\n","E:\\praktikum\\dev\\mesto-react\\src\\utils\\Api.js",[],"E:\\praktikum\\dev\\mesto-react\\src\\components\\Card.js",[],"E:\\praktikum\\dev\\mesto-react\\src\\index.js",[],["47","48"],"E:\\praktikum\\dev\\mesto-react\\src\\components\\Footer.js",[],"E:\\praktikum\\dev\\mesto-react\\src\\components\\App.js",["49"],"E:\\praktikum\\dev\\mesto-react\\src\\components\\ImagePopup.js",[],["50","51"],"E:\\praktikum\\dev\\mesto-react\\src\\components\\PopupWithForm.js",[],["52","53"],"E:\\praktikum\\dev\\mesto-react\\src\\components\\Header.js",[],"E:\\praktikum\\dev\\mesto-react\\src\\contexts\\CurrentUserContext.js",[],{"ruleId":"54","severity":1,"message":"55","line":31,"column":7,"nodeType":"56","endLine":31,"endColumn":9},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":8,"column":29,"nodeType":"63","messageId":"64","endLine":8,"endColumn":40},{"ruleId":"57","replacedBy":"65"},{"ruleId":"59","replacedBy":"66"},{"ruleId":"57","replacedBy":"67"},{"ruleId":"59","replacedBy":"68"},"react-hooks/exhaustive-deps","React Hook React.useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","ArrayExpression","no-native-reassign",["69"],"no-negated-in-lhs",["70"],"no-unused-vars","'currentUser' is defined but never used.","Identifier","unusedVar",["69"],["70"],["69"],["70"],"no-global-assign","no-unsafe-negation"]