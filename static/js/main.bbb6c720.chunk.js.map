{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Footer.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","mestoLogo","alt","CurrentUserContext","React","createContext","Card","card","setSelectedCard","onCardLike","onCardDelete","currentUser","useContext","isOwn","userId","_id","cardRBinButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","_","handleRBinBtnClick","title","handleLikeClick","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","name","about","map","cardId","PopupWithForm","isOpen","onClose","onSubmit","props","id","method","action","noValidate","children","submited","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","minLength","maxLength","pattern","required","placeholder","value","onChange","evt","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","reset","ref","AddPlacePopup","place","setPlace","placeUrl","setPlaceUrl","place_url","ImagePopup","Object","entries","Footer","api","baseUrl","headers","this","res","ok","json","Promise","reject","status","fetch","authorization","then","_transformResJson","popupData","body","JSON","stringify","link","userAvatarUrl","App","setCards","getInitialCards","Cards","item","owner","catch","err","console","error","setCurrentUser","EditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","closeAllPopups","getUserData","userData","selectedCard","handleCardClick","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","с","patchUserInfo","updateUserInfo","avatarUrl","patchUserAvatar","postNewCadr","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bbb6c720.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.8724261e.svg\";","import mestoLogo from '../images/logo.svg';\r\n\r\nfunction Header () {\r\n  return (\r\n    <header className=\"header\">\r\n        <img className=\"header__logo\" src={mestoLogo} alt=\"Логотип Mesto Russia\"/>\r\n    </header>\r\n  )\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n// Теперь нужно добавить пропс onCardLike для компонента Card и задать в него эту функцию. Также добавьте в Card обработчик клика handleLikeClick и вызовите из него onCardLike с аргументом card — по аналогии с уже имеющимся обработчиком handleClick.\r\n\r\nfunction Card ({card, setSelectedCard, onCardLike, onCardDelete}) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n  function handleLikeClick (card) {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleRBinBtnClick (card){\r\n    onCardDelete(card);\r\n  }\r\n\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = card.userId === currentUser._id;\r\n\r\n  //Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardRBinButtonClassName = (\r\n    `${isOwn ? 'elements__rbin-button' : 'elements__rbin-button elements__rbin-button_hidden'}`\r\n  );\r\n\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n    `elements__like-button ${isLiked ? 'elements__like-button_active' : 'elements__like-button_empty'}`\r\n  );;\r\n\r\n  return (\r\n    <div className=\"elements__item\">\r\n      <button className={cardRBinButtonClassName} type=\"button\" onClick={_=>handleRBinBtnClick(card)}></button>\r\n      <img className=\"elements__image\" src={card.src}  alt={card.title} onClick={_=>setSelectedCard(card)}/>\r\n      <div className=\"elements__bar\">\r\n        <h2 className=\"elements__title\">{card.title}</h2>\r\n        <div className=\"elements__like-bar\">\r\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={_=>handleLikeClick(card)} ></button>\r\n          <p className=\"elements__like-counter\">{card.likes.length}</p>\r\n        </div>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Card;\r\n","\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card.js';\r\n\r\n\r\nfunction Main ({onEditProfile, onAddPlace, onEditAvatar, onCardLike, onCardDelete,  setSelectedCard, cards}) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__data\">\r\n          <div className=\"profile__avatar-conteiner\">\r\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"фото Профиля\"/>\r\n            <div className=\"profile__avatar-overlay\">\r\n              <button className=\"profile__avatar-edit-button\" type=\"button\" onClick={onEditAvatar}></button>\r\n            </div>\r\n          </div>\r\n            <div className=\"profile__info\">\r\n              <p className=\"profile__name\">{currentUser.name}</p>\r\n              <p className=\"profile__lifestyle\">{currentUser.about}</p>\r\n              <button className=\"profile__edit-button\"  type=\"button\" onClick = {onEditProfile}></button>\r\n          </div>\r\n        </div>\r\n          <button className=\"profile__add-button\" type=\"button\" onClick = {onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements\">\r\n        {cards.map((card) =>\r\n           <Card\r\n              key={card.cardId}\r\n              card={card}\r\n              setSelectedCard ={setSelectedCard}\r\n              onCardLike = {onCardLike}\r\n              onCardDelete={onCardDelete}\r\n            />\r\n        )}\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\n\r\nexport default Main;\r\n","function PopupWithForm ({isOpen, onClose, onSubmit, ...props }) {\r\n  return (\r\n    <section className={`popup ${isOpen ? \"\" : \"popup_hidden\"}`}  id={`edit-${props.name}`}>\r\n    <div className=\"popup__content\">\r\n      <form onSubmit={onSubmit} className=\"popup__form\" name={`edit_${props.name}`} method=\"POST\" action=\"#\" noValidate>\r\n        <h2 className=\"popup__header\">{props.title}</h2>\r\n        {props.children}\r\n        <button type=\"submit\" id={`profile-${props.name} `}className=\"popup__save-button\">{props.submited}</button>\r\n      </form>\r\n    <button type=\"button\" id={`${props.name}-close`} onClick = {onClose} className=\"popup__close-button\"></button>\r\n    </div>\r\n  </section>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditProfilePopup  ({isOpen, onClose, onUpdateUser}) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState([]);\r\n  const [description, setDescription] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleChangeName (evt) {\r\n    setName(evt.target.value)\r\n  }\r\n\r\n  function handleChangeDescription (evt) {\r\n    setDescription(evt.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    // Запрещаем браузеру переходить по адресу формы\r\n    e.preventDefault();\r\n\r\n    // Передаём значения управляемых компонентов во внешний обработчик\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return(\r\n    <PopupWithForm\r\n    name=\"profile\"\r\n    title=\"Редактировать профиль\"\r\n    submited = \"Сохранить\"\r\n    isOpen={isOpen}\r\n    onClose = {onClose}\r\n    onSubmit = {handleSubmit}\r\n  >\r\n    <input type=\"text\" id=\"popup_name\" name=\"name\" minLength=\"2\" maxLength=\"40\" pattern=\"[а-яёА-ЯЁA-Za-z \\-]*\" required placeholder=\"Имя, Фамилия\" className=\"popup__input\" value={name|| ''} onChange={handleChangeName}/>\r\n    <span className='popup__input-error popup__input-error_hidden' id='popup_name-input-error'></span>\r\n    <input type=\"text\" id=\"popup_lifestyle\" name=\"about\" minLength=\"2\" maxLength=\"200\" required value = {description || ''} onChange={handleChangeDescription}placeholder=\"Род занятий/хобби\" className=\"popup__input\"/>\r\n    <span className='popup__input-error popup__input-error_hidden' id='popup_lifestyle-input-error'></span>\r\n  </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup ({isOpen, onClose, onUpdateAvatar}) {\r\n\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n      e.preventDefault();\r\n\r\n      onUpdateAvatar(\r\n         avatarRef.current.value,\r\n      );\r\n\r\n      e.target.reset();\r\n   }\r\n\r\n  return(\r\n  <PopupWithForm\r\n    name=\"avatar\"\r\n    title=\"Обновить аватар\"\r\n    submited = \"Сохранить\"\r\n    isOpen={isOpen}\r\n    onClose = {onClose}\r\n    onSubmit={handleSubmit}\r\n  >\r\n\r\n      <input\r\n        ref = {avatarRef}\r\n        type=\"url\"\r\n        id=\"popup_link\"\r\n        name=\"avatar_url\"\r\n        required\r\n        placeholder=\"Ссылка на аватар\"\r\n        className=\"popup__input\"\r\n      />\r\n      <span className='popup__input-error' id='popup_link-input-error'></span>\r\n  </PopupWithForm>\r\n)}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n\r\n  const [place, setPlace] = React.useState('');\r\n  const [placeUrl, setPlaceUrl] = React.useState('');\r\n\r\n  function handleChangePlace (evt) {\r\n    setPlace(evt.target.value)\r\n  }\r\n\r\n  function handleChangePlaceUrl (evt) {\r\n    setPlaceUrl(evt.target.value)\r\n  }\r\n\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      place:place,\r\n      place_url: placeUrl\r\n    });\r\n\r\n    e.target.reset();\r\n }\r\n\r\n  return(\r\n    <PopupWithForm\r\n          name=\"place\"\r\n          title=\"Новое место\"\r\n          submited = \"Сохранить\"\r\n          onSubmit={handleSubmit}\r\n          isOpen={isOpen}\r\n          onClose = {onClose}\r\n        >\r\n          <input onChange={handleChangePlace} type=\"text\" id=\"popup_place\" name=\"place\" minLength=\"1\" maxLength=\"30\" required placeholder=\"Название\" className=\"popup__input\"/>\r\n          <span className='popup__input-error popup__input-error_hidden'\r\n          id='popup_place-input-error'></span>\r\n          <input type=\"url\"  onChange={handleChangePlaceUrl}id=\"popup_link\"name=\"place_url\" required placeholder=\"Ссылка на картинку\" className=\"popup__input\"/>\r\n          <span className='popup__input-error' id='popup_link-input-error'></span>\r\n        </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","function ImagePopup ({card, onClose}) {\r\n\r\n  return (\r\n    <section className={`popup ${Object.entries(card).length===0 ? \"popup_hidden\" : \"\" }`}id=\"img-fullsize\">\r\n    <div className=\"popup__content popup_type_image-disp\" >\r\n      <button type=\"button\" id=\"img-close\" className=\"popup__close-button\" onClick = {onClose}></button>\r\n      <figure className=\"popup__fullsize-img-container\">\r\n      <img className = \"popup__fullsize-img\" src={card.src} alt={card.title}/>\r\n        <figcaption className=\"popup__fullsize-img-caption\">{card.title}</figcaption>\r\n      </figure>\r\n    </div>\r\n  </section>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","function Footer () {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\t&#169;Евгения \"Shigatsi\" Зубкова</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;\r\n","\r\n//конструктор API\r\nclass Api {\r\n  constructor ({baseUrl, headers}) {\r\n    this.baseUrl = baseUrl;\r\n    this.headers = headers;\r\n  }\r\n\r\n  //приватный метод проверки ответа сервера и преобразование из json\r\n  _transformResJson (res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      // если ошибка, отклоняем промис\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  // публичный метод загрузки информации о пользователе\r\n  getUserData () {\r\n    return fetch(this.baseUrl + '/users/me', {\r\n      headers: {\r\n        authorization: this.headers\r\n      }\r\n    })\r\n\r\n    .then(this._transformResJson)\r\n  }\r\n\r\n  //публичный метод загрузки карточек\r\n  getInitialCards() {\r\n    return fetch(this.baseUrl + '/cards', {\r\n      headers: {\r\n        authorization:  this.headers\r\n      }\r\n    })\r\n    .then(this._transformResJson)\r\n  }\r\n\r\n  //публичный метод сохранения отредактированных данных профиля\r\n  patchUserInfo(popupData) {\r\n    return fetch(this.baseUrl + '/users/me', {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization:  this.headers,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n      name: popupData.name,\r\n      about: popupData.about\r\n     })\r\n    })\r\n    .then(this._transformResJson)\r\n  }\r\n\r\n  //публичный метод добавления новой карточки\r\n  postNewCadr (popupData) {\r\n   return fetch (this.baseUrl + '/cards', {\r\n    method: 'POST',\r\n    headers: {\r\n      authorization: this.headers,\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      name: popupData.place,\r\n      link:popupData.place_url\r\n      })\r\n    })\r\n    .then(this._transformResJson)\r\n  }\r\n\r\n  //публичный метод удоления карточки\r\n  deleteCard (cardId) {\r\n    return fetch (this.baseUrl + '/cards/' + cardId, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this.headers,\r\n      }\r\n    })\r\n    .then(this._transformResJson)\r\n  }\r\n\r\n  //публичный метод постановки и удоления лайка\r\n  changeLikeCardStatus (cardId, isLiked) {\r\n     if (isLiked) {\r\n      return fetch (this.baseUrl + '/cards/likes/' + cardId, {\r\n        method: 'PUT',\r\n        headers: {\r\n          authorization: this.headers,\r\n        }\r\n      })\r\n      .then(this._transformResJson)\r\n      } else {\r\n        return fetch (this.baseUrl + '/cards/likes/' + cardId, {\r\n          method: 'DELETE',\r\n          headers: {\r\n            authorization: this.headers,\r\n          }\r\n        })\r\n        .then(this._transformResJson)\r\n      }\r\n  }\r\n\r\n  //публичный метод обновления аватара пользователя\r\n  patchUserAvatar (userAvatarUrl) {\r\n    return fetch (this.baseUrl + '/users/me/avatar/', {\r\n      method: 'PATCH',\r\n      headers: {\r\n      'Content-Type': 'application/json',\r\n        authorization: this.headers,\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: userAvatarUrl,\r\n      })\r\n    })\r\n    .then(this._transformResJson)\r\n  }\r\n}\r\n\r\nconst api = new Api  ({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\r\n  headers: 'cf883479-ba69-4170-b793-165731887c32',\r\n})\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport ImagePopup from './ImagePopup';\r\nimport Footer from './Footer';\r\nimport api from '../utils/Api';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(()=>{\r\n    api.getInitialCards()\r\n    .then((Cards)=>{\r\n      const cards = Cards.map(item =>{\r\n        return{\r\n          cardId:item._id,\r\n          userId:item.owner._id,\r\n          src:item.link,\r\n          title:item.name,\r\n          likes:item.likes,\r\n          alt: item.name}\r\n      })\r\n      setCards(cards);\r\n\r\n    })\r\n    .catch(err => console.error(err));\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card.cardId, !isLiked)\r\n    .then((item) => {\r\n      const newCard = {\r\n        cardId:item._id,\r\n        userId:item.owner._id,\r\n        src:item.link,\r\n        title:item.name,\r\n        likes:item.likes,\r\n        alt: item.name\r\n      }\r\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n        const newCards = cards.map((c) => c.cardId === card.cardId ? newCard : c);\r\n      // Обновляем стейт\r\n      setCards(newCards)\r\n    })\r\n    .catch(err => console.error(err));//выведем ошибку;\r\n  }\r\n\r\n\r\n  function handleCardDelete(card){\r\n  api.deleteCard(card.cardId)\r\n  .then(()=>{\r\n    // Формируем новый массив на основе имеющегося, удоляя карточку\r\n    const newCards = cards.filter(с=>{return с.cardId!==card.cardId});\r\n    // Обновляем стейт\r\n    setCards(newCards)\r\n  })\r\n  .catch(err => console.error(err));//выведем ошибку\r\n  }\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n\r\n  const [EditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const  [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const  [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\r\n  React.useEffect(()=>{\r\n    api.getUserData()\r\n    .then((userData)=>{\r\n      setCurrentUser(userData);\r\n    })\r\n    .catch(err => console.error(err));//выведем ошибку\r\n  }, [])\r\n\r\n  function closeAllPopups () {\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n   function handleEditPlaceClick () {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick () {\r\n    setIsEditAvatarPopupOpen(true);\r\n   }\r\n\r\n   function handleEditProfileClick () {\r\n     setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  function handleCardClick (card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n\r\n  function handleUpdateUser (currentUser) {\r\n    api.patchUserInfo(currentUser)\r\n    .then((updateUserInfo)=>{\r\n      setCurrentUser(updateUserInfo);\r\n      closeAllPopups();\r\n    })\r\n    .catch(err => console.error(err));//выведем ошибку\r\n\r\n  }\r\n\r\n\r\n  function handleUpdateAvatar (avatarUrl) {\r\n    api.patchUserAvatar(avatarUrl)\r\n    .then((userData)=>{\r\n      setCurrentUser(userData)\r\n      closeAllPopups ();\r\n    })\r\n    .catch(err => console.error(err));//выведем ошибку\r\n  }\r\n\r\n\r\n  function handleAddPlaceSubmit (popupData) {\r\n    api.postNewCadr(popupData)\r\n    .then((item)=>{\r\n      const newCard = {\r\n        cardId:item._id,\r\n        userId:item.owner._id,\r\n        src:item.link,\r\n        title:item.name,\r\n        likes:item.likes,\r\n        alt: item.name\r\n      }\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups ();\r\n    })\r\n    .catch(err => console.error(err));//выведем ошибку\r\n\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value = {currentUser}>\r\n      <div className=\"page\">\r\n        <Header/>\r\n        <Main\r\n          cards = {cards}\r\n          onCardLike = {handleCardLike}\r\n          onCardDelete = {handleCardDelete}\r\n          onEditProfile = {handleEditProfileClick}\r\n          onAddPlace = {handleEditPlaceClick}\r\n          onEditAvatar = {handleEditAvatarClick}\r\n          setSelectedCard = {handleCardClick}\r\n        />\r\n\r\n        <EditProfilePopup\r\n          isOpen={EditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose = {closeAllPopups}\r\n          onAddPlace = {handleAddPlaceSubmit}\r\n        />\r\n\r\n        <PopupWithForm\r\n          name = \"confirm\"\r\n          title=\"Вы уверены?\"\r\n          submited = \"Да\"\r\n          isOpen={false}\r\n          onClose = {closeAllPopups}\r\n        >\r\n        </PopupWithForm>\r\n\r\n        <ImagePopup setSelectedCard={handleCardClick} card = {selectedCard || ''} onClose = {closeAllPopups}/> */\r\n\r\n        <Footer/>\r\n    </div>\r\n  </CurrentUserContext.Provider>\r\n\r\n\r\n  );\r\n}\r\n\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}